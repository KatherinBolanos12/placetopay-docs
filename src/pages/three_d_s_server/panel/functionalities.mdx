# Métricas

Las métricas son estadísticas que reportan el comportamiento de la aplicación conforme al flujo de transacciones procesadas.

Para acceder a la gestión de métricas de la aplicación vaya al menú lateral izquierdo, seleccione la opción *Tablero* y luego *Métricas*.

<img src="/3DS_server/Mpi-metrics-menu-2.png" alt="Mpi-metrics-menu-2" width="400"/>

## Filtros:

Para mostrar en la gráfica de la métrica los datos específicos que se requieran, se debe hacer un filtro de las transacciones. 

Para acceder a los filtros haga clic en el botón **Filtrar**, ubicado en la parte superior lateral derecha.

### Datos en los filtros:

La vista de filtros se visualiza de la siguiente manera:

<img src="/3DS_server/Mpi-metrics-filters.png" alt="Mpi-metrics-filters" width="400"/>

Para filtrar las transacciones se requieren los siguientes datos:

- **Rango de fecha,** seleccione una fecha inicial y una posterior en el calendario. Luego de clic en el botón con ícono de *check*, para guardar el rango.

- **Periodo,** seleccione si desea filtrar por días con fechas o por días con sus nombres.

- **Moneda,** divisa utilizada al procesas las transacciones a filtrar.

- **Comercio,** comercio para el cual se procesaron las transacciones a buscar.

> Para generar nuevas métricas, haga clic en el botón *Limpiar filtros* y genera un nuevo rango de fechas, moneda y emisor.

## Tipos de métricas:

MPI cuenta actualmente con los siguientes dos tipos de métricas:

### Métrica de verificaciones

Esta métrica muestra en una gráfica, la cantidad y monto de verificaciones realizadas por estados, filtradas por un rango de fechas.

Un ejemplo de esta métrica se presenta a continuación:

<img src="/3DS_server/Mpi-verification-metric.png" alt="Mpi-verification-metric" width="400"/>

En la parte inferior puede visualizarse el rango de fecha con el cual se obtuvo la métrica y la cantidad de transacciones que cumplieron con los filtros, así como los datos agrupados por color y barra.

### Métrica de autenticaciones

Esta métrica muestra en una gráfica, la cantidad y monto de autenticaciones realizadas por estados, filtradas por un rango específico de fechas.

Un ejemplo de esta métrica se presenta a continuación:

<img src="/3DS_server/Mpi-autentication-metric.png" alt="Mpi-autentication-metric" width="400"/>

En la parte inferior puede visualizarse el rango de fecha con el cual se obtuvo la métrica y la cantidad de transacciones que cumplieron con los filtros, así como los datos agrupados por color y barra.

### Métrica de flujo de autenticación

Esta métrica muestra en una gráfica, una comparación de los flujos de autenticación. Para obtener más información de estos flujos, haga clic a cada columna.

Un ejemplo de esta métrica se presenta a continuación:

<img src="/3DS_server/Mpi-auth-flow-metric-2.png" alt="Mpi-auth-flow-metric-2" width="400"/>

En la parte inferior puede visualizarse el rango de fecha con el cual se obtuvo la métrica y la cantidad de transacciones que cumplieron con los filtros, así como los datos agrupados por color y barra.

### Métrica de razones por rechazo de marca

Esta métrica muestra en una gráfica, la información acerca de las razones de rechazo de las transaciones según la marca.

Un ejemplo de esta métrica se presenta a continuación:

<img src="/3DS_server/Metrics-franchise.png" alt="Metrics-franchise" width="400"/>

En la parte inferior puede visualizarse el rango de fecha con el cual se obtuvo la métrica y la cantidad de transacciones que cumplieron con los filtros, así como los datos agrupados por color y barra.

### Métrica de tasa de conversión

Esta métrica muestra en una gráfica, los porcentajes de autenticaciones, con desafíos e intentos de autenticación. 

Los datos se grafican en un funnel o embudo de conversión, que permite filtrar en la primera gráfica, las autenticaciones sin fricción, permitiendo visualizar las transacciones generales iniciales, luego presenta las autenticadas y los intentos de autenticación, y finalmente las autenticaciones autorizadas. 

En segundo lugar para las transacciones con fricción, se muestra una gráfica con los anteriores datos, además de incluir las transacciones a las cuales se solicita desafío, en el funnel.

Un ejemplo de esta métrica se presenta a continuación:

<img src="/3DS_server/Metric-conversion.png" alt="Metric-conversion" width="400"/>

En la parte inferior puede visualizarse el rango de fecha con el cual se obtuvo la métrica y la cantidad de transacciones que cumplieron con los filtros, así como los datos agrupados por color y barra.

### Métrica de estado de transacción

Esta métrica muestra en una gráfica, la cantidad de transacciones por estados de un banco adquirente, filtradas por un rango de fechas.

Un ejemplo de esta métrica se presenta a continuación:

<img src="/3DS_server/Metrics-status.png" alt="Metrics-status" width="400"/>

En la parte inferior puede visualizarse el rango de fecha con el cual se obtuvo la métrica y la cantidad de transacciones que cumplieron con los filtros, así como los datos agrupados por color y barra.

### Métrica de tasa de sesiones

Esta métrica muestra en una gráfica, la comparación entre las sesiones abiertas, abandonadas y completadas de una transacción, filtradas por un rango de fechas y presentadas en una gráfica tipo funnel.

Un ejemplo de esta métrica se presenta a continuación:

<img src="/3DS_server/Metrics-sessions.png" alt="Metrics-sessions" width="400"/>

En la parte inferior puede visualizarse el rango de fecha con el cual se obtuvo la métrica y la cantidad de transacciones que cumplieron con los filtros, así como los datos agrupados por color y barra.

# Transacciones

Para acceder a la gestión de transacciones, vaya al menú lateral izquierdo, seleccione la opción *Tablero* y luego *Transacciones*.

## Índice de transacciones:

En este módulo se registra la información de todas las transacciones procesadas por MPI. En este índice se encuentra el listado de las transacciones con fecha, país, comercio, referencia, monto de la transacción, categoría, versión y resumen de la traza.

El índice de transacciones se visualiza como en la siguiente imagen:

<img src="/3DS_server/Mpi-transactions-index-2.png" alt="Mpi-transactions-index-2" width="400"/>

## Filtros:

Para buscar un listado o una transacción específica, puede utilizar los filtros. MPI cuenta con dos tipos de filtros para hacer búsquedas de transacciones, uno básico y otro avanzado para hacer consultas más rigurosas.

Para acceder a la funcionalidad, dé clic en el botón **Filtrar** ubicado en la parte lateral superior izquierda del índice de transacciones:

#### Filtros básicos:

<img src="/3DS_server/Transactions-hidden-filters.png" alt="Transactions-hidden-filters" width="400"/>

La búsqueda se hace por:

- **Rango de fecha:** Debe dar clic en una fecha inicial del calendario y luego en otra fecha posterior a la primera (el rango no debe ser mayor a 60 días y no debe superar la fecha actual), luego dé clic en el botón negro para guardar el rango de fechas.

- **Estado de autenticación:** Seleccione uno o varios estados por los cuales desea hacer búsquedas de transacciones.


#### Filtros avanzados:

<img src="/3DS_server/Mpi-open-filters-2.png" alt="Mpi-open-filters-2" width="400"/>

Al desplegar los filtros básicos, hay una opción **Filtros avanzados**, seleccionela y se desplegará una vista como la siguiente:

Aquí además de los dos filtros básicos, se pueden agregar más datos de búsqueda, tales como:

- BIN de la tarjeta
- Últimos 4 dígitos del número de tarjeta
- Número de tarjeta
- Referencia de la transacción
- Código de autorización
- País en que se procesó la transacción
- Código del comercio
- Nombre del comercio
- Versión del protocolo

## ¿Cómo crear reportes de transacciones?

El módulo de transacciones tiene la funcionalidad de crear reportes de transacciones. Para crear un reporte, siga los siguientes pasos:

 1. Diríjase a la sección de filtros y realice una búsqueda con los datos con los cuales espera las transacciones del reporte.

 2. Haga clic en el botón exportar.

 3. Seleccione el formato en el cual desea obtener el reporte de transacciones.

  **Tipos de archivos generados para los reportes**

  - Archivo separado por comas (CSV).
  - Archivo separado por tabuladores (TSV).
  - Archivo de Excel (XLSX).

  4. Su reporte será generado y será redireccionado a este, también puede consultar el reporte en el menú **Tablero** -> **Reportes**, y selecciona el que corresponda a la fecha y hora de generación del exporte.

## Detalle de una transacción:

Para visualizar el detalle de una transacción, haga clic sobre la fecha de la transacción como se muestra en la imagen siguiente.

<img src="/3DS_server/Transaction-detail-mpi-2.png" alt="Transaction-detail-mpi-2" width="400"/>

En el detalle se encuentra información esencial de la traza de la transacción, como el estado de la autenticación, la información básica de la transacción, la información del tarjetahabiente, del comercio, los datos de entrega y una línea de tiempo con los detalles de todo el proceso de autenticación y de la información captada por cada uno de los mensajes presentes en el proceso y correspondientes al protocolo 3-D Secure.

### Valores resumen en la transacción:

En el detalle de la transacción, en la parte superior, se encuentran en recuadros datos importantes de la transacción, como son la versión del protocolo, si se verificó la transacción y tarjeta, el estado de la autenticación, el flujo con el cual se ejecutó, si la firma del certificado es válida.

Un ejemplo de esta sección de la transacción, se muestra a continuación:

<img src="/3DS_server/Transaction-details-2.png" alt="Transaction-details-2" width="400"/>

### Información general de la transacción:

En esta sección se presenta la información básica de la transacción como la marca, el comercio, el identificador, el código ECI y las fechas de creación y actualización de la misma.


### Geolocalización de la transacción:

Aquí se visualiza la ubicación en un mapa, en la cual se procesó la transacción.

<img src="/3DS_server/Transaction-localization.png" alt="Transaction-localization" width="400"/>

### Traza de la autenticación:

Cada autenticación tiene una traza, en la cual se muestra una línea secuencial con el registro de los pasos realizados en el proceso de autenticación, los datos que recibe, las peticiones y respuestas de los tipos de mensaje que procesa, los estados y descripción de errores si se presentan.

Este es un ejemplo de una traza de una autenticación exitosa:

<img src="/3DS_server/Traza-example-2.png" alt="Traza-example-2" width="400"/>

Además, cada paso tiene la opción **Ver más**, la cual muestra la estructura de la petición o la respuesta con sus respectivos datos. 

Acceda al detalle de la traza, haciendo clic en la opción señalada:

<img src="/3DS_server/Trace-detail-1.png" alt="Trace-detail-1" width="400"/>

Un ejemplo de este detalle es el siguiente:

<img src="/3DS_server/Trace-detail-2.png" alt="Trace-detail-2" width="400"/>


# Reportes

Para acceder al módulo de reportes, diríjase al menú lateral izquierdo, despliegue la opción *Tablero* y busque la sección de *Reportes* en los títulos.

<img src="/3DS_server/Mpi-metrics-reports-2.png" alt="Mpi-metrics-reports-2" width="400"/>


## Índice de reportes:

Los reportes son archivos que contienen registros de las transacciones procesadas por MPI. 

La siguiente imagen muestra un ejemplo de la vista con el índice de reportes generados. 

Estos reportes se pueden ver y descargar los archivos con toda la información de los mismos.

<img src="/3DS_server/Reports-index-mpi.2.png" alt="Reports-index-mpi.2" width="400"/>


## Funcionalidades disponibles para los reportes:

- **Ver:** Para visualizar el detalle de un reporte, haga clic en el botón *Ver*, ubicado al final de cada registro, y se desplegará una ventana como la siguiente:

<img src="/3DS_server/Reports-detail-mpi.png" alt="Reports-detail-mpi" width="400"/>


- **Descargar:** Puede descargar un reporte, haciendo clic en el botón *Descargar*, ubicado en el menú al final de cada registro o en el detalle del reporte.

  > Tenga en cuenta que solo se pueden descargar los reportes en estado **Completado**.

- **Eliminar:** Puede eliminar un usuario, haciendo clic en la opción *Eliminar*. 

## Tipos de archivos generados para los reportes:

  - Archivo separado por comas (CSV).
  - Archivo separado por tabuladores (TSV).
  - Archivo de Excel (XLSX).


## Creación de reportes de transacciones:

Para crear reportes de transacciones debe dirigirse a la sección de **Transacciones** de esta documentación y luego ir al título **¿Cómo crear reportes de transacciones?**, ya que estos reportes son creados desde el módulo de transacciones.

