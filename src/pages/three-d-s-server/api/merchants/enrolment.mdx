Las APIs de **Model Enrollment** están diseñadas para gestionar el enrolamiento de modelos en las marcas soportadas,
facilitando operaciones como la creación, actualización y eliminación de registros relacionados.

Actualmente, estas APIs están habilitadas exclusivamente para **Mastercard**,
permitiendo integrar y gestionar modelos de manera eficiente dentro de su ecosistema.

Estas APIs proporcionan una interfaz clara y estructurada para interactuar con los datos de enrolamiento,
asegurando que los procesos sean seguros y estén alineados con los estándares de la compañia.

---

#### **Funciones principales:**
1. **Creación de modelos**: Registrar un nuevo modelo en el sistema utilizando el endpoint `POST /api/model-enrollment`.
2. **Actualización de modelos**: Modificar los detalles de un modelo existente mediante el endpoint `PATCH /api/model-enrollment`.
3. **Eliminación de modelos**: Eliminar registros de modelos obsoletos utilizando el endpoint `DELETE /api/model-enrollment`.

---


### POST `/api/model-enrollment`

Este endpoint permite enrolar un nuevo modelo en una marca. Actualmente, el servicio está disponible exclusivamente para **Mastercard**.

---

#### **Request**

```json
{
    "subscription_id": "349"
}

```

| Campo               | Tipo     | Descripción                                    |
|---------------------|----------|------------------------------------------------|
| **subscription_id** | `string` | ID de la suscripción asociada al nuevo modelo. |

---

```json

{
    "message": "Model enrollment",
    "data": {
        "uuid": "692b1ce4-7979-4b62-9bab-bda8ad8aa64b",
        "messageType": "MerchantStatusResponse",
        "status": "COMPLETED",
        "data": {
            "acquirerBIN": "510510",
            "acquirerICA": "16233",
            "acquirerName": "First Technology Federal Credit Union",
            "acquirerCID": "139423",
            "identityCheckExpress": "N",
            "status": "Successful",
            "reason": "New Record Data",
            "modelId": "123",
            "modelName": "Test Merchant"
        }
    }
}

```


| Campo                              | Tipo     | Descripción                                            |
|------------------------------------|----------|--------------------------------------------------------|
| **message**                        | `string` | Mensaje que confirma el enrolamiento del modelo.       |
| **data**                           | `object` | Datos relacionados con el modelo enrolado.             |
| **data.uuid**                      | `string` | Identificador único del modelo enrolado.               |
| **data.messageType**               | `string` | Tipo de mensaje relacionado con el estado del modelo.  |
| **data.status**                    | `string` | Estado general de la operación (`COMPLETED`).          |
| **data.data**                      | `object` | Detalles adicionales relacionados con el modelo.       |
| **data.data.acquirerBIN**          | `string` | Número de identificación del adquirente.               |
| **data.data.acquirerICA**          | `string` | Código de institución del adquirente.                  |
| **data.data.acquirerName**         | `string` | Nombre del adquirente.                                 |
| **data.data.acquirerCID**          | `string` | Identificador del cliente del adquirente.              |
| **data.data.identityCheckExpress** | `string` | Indicador de verificación de identidad rápida (`Y/N`). |
| **data.data.status**               | `string` | Estado detallado de la operación (`Successful`).       |
| **data.data.reason**               | `string` | Razón relacionada con la operación realizada.          |
| **data.data.modelId**              | `string` | Identificador del modelo enrolado.                     |
| **data.data.modelName**            | `string` | Nombre del modelo enrolado.                            |


### PATCH `/api/model-enrollment`

Este endpoint permite recuperar los datos en la marca asociada y actualizar el modelo enrolado. Actualmente, el servicio está disponible exclusivamente para **Mastercard**.

---

#### **Request**

```json
{
  "uuid": "692b1ce4-7979-4b62-9bab-bda8ad8aa64b",
  "subscription_id": "349"
}

```

Campos de la solicitud:

| Campo               | Tipo     | Descripción                                               |
|---------------------|----------|-----------------------------------------------------------|
| **uuid**            | `string` | Identificador único del registro que se desea actualizar. |
| **subscription_id** | `string` | ID de la suscripción asociada al registro.                |


#### **Response**

```json
{
  "message": "Model updated",
  "data": {
    "uuid": "692b1ce4-7979-4b62-9bab-bda8ad8aa64b",
    "messageType": "MerchantStatusResponse",
    "status": "COMPLETED",
    "data": {
      "acquirerBIN": "510510",
      "acquirerICA": "16233",
      "acquirerName": "First Technology Federal Credit Union",
      "acquirerCID": "139423",
      "identityCheckExpress": "N",
      "status": "Successful",
      "reason": "New Record Data",
      "modelId": "123",
      "modelName": "Test Merchant"
    }
  }
}

```

| Campo                              | Tipo     | Descripción                                            |
|------------------------------------|----------|--------------------------------------------------------|
| **message**                        | `string` | Mensaje que confirma la actualización del modelo.      |
| **data**                           | `object` | Datos actualizados relacionados con el modelo.         |
| **data.uuid**                      | `string` | Identificador único del registro actualizado.          |
| **data.messageType**               | `string` | Tipo de mensaje relacionado con el estado del modelo.  |
| **data.status**                    | `string` | Estado general de la operación (`COMPLETED`).          |
| **data.data**                      | `object` | Detalles adicionales relacionados con el modelo.       |
| **data.data.acquirerBIN**          | `string` | Número de identificación del adquirente.               |
| **data.data.acquirerICA**          | `string` | Código de institución del adquirente.                  |
| **data.data.acquirerName**         | `string` | Nombre del adquirente.                                 |
| **data.data.acquirerCID**          | `string` | Identificador del cliente del adquirente.              |
| **data.data.identityCheckExpress** | `string` | Indicador de verificación de identidad rápida (`Y/N`). |
| **data.data.status**               | `string` | Estado detallado de la operación (`Successful`).       |
| **data.data.reason**               | `string` | Razón relacionada con la operación realizada.          |
| **data.data.modelId**              | `string` | Identificador del modelo actualizado.                  |
| **data.data.modelName**            | `string` | Nombre del modelo actualizado.                         |


---

### DELETE `/api/model-enrollment`

Este endpoint permite gestionar el enrolamiento de modelos en una marca. Actualmente, el servicio está disponible exclusivamente para **Mastercard**.

---

#### **Request**

```json

{
  "reason": "DATA_ENTRY_ERROR",
  "subscription_id": "349",
  "uuid": "692b1ce4-7979-4b62-9bab-bda8ad8aa64b"
}

```

| Campo               | Tipo     | Descripción                                                   |
|---------------------|----------|---------------------------------------------------------------|
| **reason**          | `string` | Razón para eliminar el registro. Ejemplo: `DATA_ENTRY_ERROR`. |
| **subscription_id** | `string` | ID de la suscripción asociada al registro.                    |
| **uuid**            | `string` | Identificador único del registro que se desea eliminar.       |


#### **Response**

```json

{
    "message": "The record was successfully deleted"
}

```
