export const sectionMode = 'nav';

# Datos adicionales para mejorar la tasa de autenticación
---

En este proceso, enviar **data adicional** es crucial para mejorar la experiencia del usuario y garantizar la seguridad.
Aquí algunas razones para enviar información adicional:

1. **Evaluación del riesgo mejorada:**
Proporcionar más datos sobre la transacción y el cliente permite que el emisor y los sistemas de autenticación realicen una evaluación del riesgo más precisa.
Datos como el historial de compras, la ubicación geográfica, y la información del dispositivo device info ayudan a los emisores a determinar si se puede proceder con una autenticación basada en el riesgo,
lo que podría evitar pasos adicionales de autenticación como introducir un OTP.

2. **Minimizar fricción para el usuario:**
Enviar información como el número de teléfono, correo electrónico, historial de autenticación previo y detalles de envío puede ayudar a autenticar la transacción sin pedir intervención directa del cliente.
Si la evaluación de riesgo determina que la transacción es de bajo riesgo, el usuario podría no necesitar autenticarse activamente,
lo que mejora la experiencia del usuario conocido como "frictionless flow".

3. **Reducir la probabilidad de rechazos:**
Cuanta más información útil se proporcione en la solicitud de autenticación, menos probable será que el banco emisor rechace la transacción por falta de datos suficientes para evaluar la autenticidad del comprador.
Esto puede mejorar las tasas de aprobación de transacciones.

4. **Prevenir el fraude:**
Enviar datos adicionales, como la geolocalización del dispositivo, la dirección IP, el comportamiento del navegador y detalles sobre autenticaciones anteriores,
ayuda a los emisores a identificar transacciones fraudulentas con mayor eficacia.

5. **Experiencia personalizada para autenticaciones repetidas:**
En escenarios donde se están procesando varias transacciones para el mismo usuario o cuando un usuario ha realizado autenticaciones previas,
enviar información sobre la autenticación previa como se ve en el campo threeDSRequestorPriorAuthenticationInfo permite que el emisor ajuste el proceso de autenticación en función
del historial del usuario.

Para optimizar el uso de la data adicional, le invitamos a consultar el apartado de [Casos de Uso](/three-d-s-server/api/integration/session), donde encontrará ejemplos claros sobre cuándo y cómo enviar estos datos en sus integraciones. Estos casos detallan situaciones específicas en las que se recomienda o requiere el uso de información adicional para mejorar la tasa de autenticaciones exitosas.

---

## AcctInfoProperties

### Descripción

`acctInfoProperties` es un objeto que proporciona información adicional sobre la cuenta del titular de la tarjeta.

### Descripción del Objeto

| Campo           | Descripción                                                      |
|-----------------|------------------------------------------------------------------|
| **title**       | `acctInfo`                                                       |
| **type**        | `object`                                                         |
| **description** | Información adicional sobre la cuenta del titular de la tarjeta. |

### Propiedades del Objeto

#### `chAccAgeInd`

- **Tipo:** `string`
- **Descripción:** Longitud del tiempo en que la cuenta fue creada en el sitio web del comercio.

  **Valores aceptados:**
  - `01` - Sin cuenta (invitado)
  - `02` - Creada durante la transacción
  - `03` - Menos de 30 días
  - `04` - Entre 30 y 60 días
  - `05` - Más de 60 días

- **Longitud:** 2 caracteres

  **Ejemplo de valor:** `'01'`

#### `chAccChange`

- **Tipo:** `string`
- **Descripción:** Fecha del último cambio efectuado en la cuenta del tarjetahabiente en el sitio web del comercio.

  **Formato:** `YYYYMMDD`

  **Ejemplo de valor:** `'20210310'`

- **Longitud:** 8 caracteres

#### `chAccChangeInd`

- **Tipo:** `string`
- **Descripción:** Longitud del tiempo desde el último cambio efectuado en la cuenta en el sitio web del comercio.

  **Valores aceptados:**
  - `01` - Cambiado durante la transacción
  - `02` - Menos de 30 días
  - `03` - Entre 30 y 60 días
  - `04` - Más de 60 días

- **Longitud:** 2 caracteres

  **Ejemplo de valor:** `'02'`

#### `chAccDate`

- **Tipo:** `string`
- **Descripción:** Fecha en la que se creó la cuenta en el sitio web del comercio.

  **Formato:** `YYYYMMDD`

  **Ejemplo de valor:** `'20210310'`

- **Longitud:** 8 caracteres

#### `chAccPwChange`

- **Tipo:** `string`
- **Descripción:** Fecha en la que se realizó el último cambio o recuperación de contraseña.

  **Formato:** `YYYYMMDD`

  **Ejemplo de valor:** `'20210310'`

- **Longitud:** 8 caracteres

#### `chAccPwChangeInd`

- **Tipo:** `string`
- **Descripción:** Longitud de tiempo desde el último cambio o recuperación de contraseña.

  **Valores aceptados:**
  - `01` - Sin cambios
  - `02` - Cambiado durante la transacción
  - `03` - Menos de 30 días
  - `04` - Entre 30 y 60 días
  - `05` - Más de 60 días

- **Longitud:** 2 caracteres

  **Ejemplo de valor:** `'03'`

#### `nbPurchaseAccount`

- **Tipo:** `string`
- **Descripción:** Número de compras durante los últimos 6 meses.

- **Longitud:** 1 a 4 caracteres

  **Ejemplo de valor:** `'1234'`

#### `provisionAttemptsDay`

- **Tipo:** `string`
- **Descripción:** Número de intentos de agregar tarjetas en las últimas 24 horas.

  **Ejemplos de valores aceptados:** `2`, `02`, `002`

- **Longitud:** 1 a 3 caracteres

  **Ejemplo de valor:** `'002'`

#### `txnActivityDay`

- **Tipo:** `string`
- **Descripción:** Número de transacciones (exitosas y abandonadas) para esta cuenta en las últimas 24 horas.

  **Ejemplos de valores aceptados:** `2`, `02`, `002`

- **Longitud:** 1 a 3 caracteres

  **Ejemplo de valor:** `'02'`

#### `txnActivityYear`

- **Tipo:** `string`
- **Descripción:** Número de transacciones (exitosas y abandonadas) para esta cuenta en el último año.

  **Ejemplos de valores aceptados:** `2`, `02`, `002`

- **Longitud:** 1 a 3 caracteres

  **Ejemplo de valor:** `'2'`

#### `paymentAccAge`

- **Tipo:** `string`
- **Descripción:** Fecha en la que el método de pago se agregó a la cuenta del usuario en el sitio web del comercio.

  **Formato:** `YYYYMMDD`

  **Ejemplo de valor:** `'20210307'`

- **Longitud:** 8 caracteres

#### `paymentAccInd`

- **Tipo:** `string`
- **Descripción:** Longitud de tiempo desde que el método de pago fue enrolado en la cuenta en el sitio web del comercio.

  **Valores aceptados:**
  - `01` - Sin cuenta (invitado)
  - `02` - Durante la transacción
  - `03` - Menos de 30 días
  - `04` - Entre 30 y 60 días
  - `05` - Más de 60 días

- **Longitud:** 2 caracteres

  **Ejemplo de valor:** `'01'`

#### `shipAddressUsage`

- **Tipo:** `string`
- **Descripción:** Fecha en la que la dirección de entrega fue usada por primera vez en el sitio web del comercio.

  **Formato:** `YYYYMMDD`

  **Ejemplo de valor:** `'20210305'`

- **Longitud:** 8 caracteres

#### `shipAddressUsageInd`

- **Tipo:** `string`
- **Descripción:** Longitud de tiempo desde que la dirección de entrega fue usada por primera vez en el sitio web del comercio.

  **Valores aceptados:**
  - `01` - Esta transacción
  - `02` - Menos de 30 días
  - `03` - Entre 30 y 60 días
  - `04` - Más de 60 días

- **Longitud:** 2 caracteres

  **Ejemplo de valor:** `'02'`

#### `shipNameIndicator`

- **Tipo:** `string`
- **Descripción:** Indica si el nombre del titular de la tarjeta es igual al nombre de envío usado en esta transacción.

  **Valores aceptados:**
  - `01` - Nombre de cuenta idéntico al nombre de envío.
  - `02` - Nombre de cuenta diferente al nombre de envío.

- **Longitud:** 2 caracteres

  **Ejemplo de valor:** `'01'`

#### `suspiciousAccActivity`

- **Tipo:** `string`
- **Descripción:** Indica si el comercio ha experimentado actividad sospechosa (incluido fraude previo) en la cuenta del titular de la tarjeta.

  **Valores aceptados:**
  - `01` - No se ha observado actividad sospechosa.
  - `02` - Se ha observado actividad sospechosa.

- **Longitud:** 2 caracteres

  **Ejemplo de valor:** `'02'`

### Ejemplo de Petición

```json
{
    "acctNumber": "4005580000000040",
    "cardExpiryDate": "2506",
    "purchaseAmount": "20.5",
    "purchaseCurrency": "USD",
    "redirectURI": "https://www.placetopay.com",
    "threeDSAuthenticationInd": "01",
    "reference": "12345",
    "acctInfo": {
        "chAccAgeInd": "05",
        "chAccDate": "20170101",
        "chAccChangeInd": "04",
        "chAccChange": "20170101",
        "chAccPwChangeInd": "05",
        "chAccPwChange": "20170101",
        "shipAddressUsageInd": "04",
        "shipAddressUsage": "20170101",
        "txnActivityDay": "1",
        "txnActivityYear": "1",
        "provisionAttemptsDay": "0",
        "nbPurchaseAccount": "1",
        "suspiciousAccActivity": "01",
        "shipNameIndicator": "01",
        "paymentAccInd": "05",
        "paymentAccAge": "20170101"
    }
}

```

---

## PhoneProperties

### Descripción

`PhoneProperties` es un objeto que representa un número de teléfono según la especificación **ITU-E.164**.

### Descripción del Objeto

| Campo       | Descripción                                                                 |
|-------------|-----------------------------------------------------------------------------|
| **title**   | `PhoneProperties`                                                            |
| **type**    | `object`                                                                      |
| **description** | **Valores aceptados según especificación** Ver formato [ITU-E.164](https://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-E.164-201011-I!!PDF-S&type=items) |

### Propiedades del Objeto

#### `cc`

- **Tipo:** `string`
- **Descripción:** Código del país.

  **Ejemplo de valor:** `'1'`

- **Longitud:** Mínimo de 1 carácter, máximo de 3 caracteres.

#### `subscriber`

- **Tipo:** `string`
- **Descripción:** Suscriptor.

  **Ejemplo de valor:** `'1234567899'`

- **Longitud:** Máximo de 15 caracteres.

### Ejemplo de Petición

```json
{
    "acctNumber": "4005580000000040",
    "cardExpiryDate": "2506",
    "purchaseAmount": "20.5",
    "purchaseCurrency": "USD",
    "redirectURI": "https://www.placetopay.com",
    "threeDSAuthenticationInd": "01",
    "reference": "12345",
    "homePhone": {
        "cc": "123",
        "subscriber": "123456789"
    },
    "mobilePhone": {
        "cc": "123",
        "subscriber": "123456789"
    },
    "workPhone": {
        "cc": "123",
        "subscriber": "123456789"
    }
}


```

---

## ThreeDSRequestorPriorAuthenticationInfo

### Descripción

`threeDSRequestorPriorAuthenticationInfo` es un objeto que contiene información sobre cómo el 3DS Requestor autenticó al titular de la tarjeta antes o durante la transacción.

### Descripción del Objeto

| Campo                     | Descripción                                                                 |
|---------------------------|-----------------------------------------------------------------------------|
| **title**                 | `threeDSRequestorPriorAuthenticationInfo`                                 |
| **type**                  | `object`                                                                     |
| **description**          | Información sobre cómo el 3DS Requestor autenticó al titular de la tarjeta antes o durante la transacción. |

### Propiedades del Objeto

#### `threeDSReqPriorAuthMethod`

- **Tipo:** `string`
- **Descripción:** Método de autenticación usado en la transacción.

**Valores aceptados:**
* 01 – Autenticación sin fricción
* 02 – Autenticación con fricción

- **Longitud:** 2 caracteres

#### `threeDSReqPriorAuthTimestamp`

- **Tipo:** `string`
- **Descripción:** Timestamp de la transacción en UTC

**Formatos aceptados:**
* `c` – 2020-04-21T01:44:54+00:00
* `YmdHi` – 202401011212

- **Longitud:** 12 caracteres

#### `threeDSReqPriorRef`

- **Tipo:** `string`
- **Descripción:** Contiene el ACS Transaction ID de la transacción anterior que fue autenticada.

**Ejemplo de valor:** `c83f3f5d-1a47-4eff-9fd0-6b63090a89c6`

- **Longitud:** Máximo de 72 caracteres

#### `threeDSReqPriorAuthData`

- **Tipo:** `string`
- **Descripción:** Contiene el DS Transaction ID de la transacción anterior que fue autenticada.

**Ejemplo de valor:** `c83f3f5d-1a47-4eff-9fd0-6b63090a89c6`

- **Longitud:** Máximo de 72 caracteres

### Ejemplo de Petición

```json

{
    "email": "john.doe@example.com",
    "mobilePhone": {
        "cc": "1",
        "subscriber": "5551234567"
    },
    "deviceChannel": "RI",
    "acctNumber": "4111111111111111",
    "cardExpiryDate": "2411",
    "purchaseAmount": "8.25",
    "redirectURI": "http://www.placetopay.com",
    "purchaseCurrency": "USD",
    "messageCategory": "NPA",
    "messageVersion": "2.2.0",
    "threeRIInd": "80",
    "threeDSRequestorPriorAuthenticationInfo": {
        "threeDSReqPriorAuthMethod": "01",
        "threeDSReqPriorAuthTimestamp": "202401011212",
        "threeDSReqPriorRef": "c83f3f5d-1a47-4eff-9fd0-6b63090a89c6",
        "threeDSReqPriorAuthData": "f234f3f5d-1a47-4eff-9fd4-1b62190a89f3"
    },
    "billAddrState": "NY",
    "billAddrLine2": "Apt 4B",
    "billAddrCity": "New York",
    "billAddrPostCode": "10001",
    "billAddrLine3": "",
    "billAddrLine1": "123 Main St",
    "billAddrCountry": "USA",
    "threeDSRequestorID": "MERAESK00100090796",
    "threeDSRequestorName": "EMVCo 3DS Test Requestor",
    "threeDSRequestorURL": "http://ul.com/aa5c3035-0b61-4e3c-8290-44bb1b4ce643"
}


```

---

## MerchantRiskIndicatorProperties

### Descripción

`merchantRiskIndicatorProperties` es un objeto que proporciona detalles sobre la evaluación del comerciante respecto al nivel de riesgo de fraude en una autenticación específica.

### Descripción del Objeto

| Campo                  | Descripción                                                                 |
|------------------------|-----------------------------------------------------------------------------|
| **title**              | `merchantRiskIndicator`                                                    |
| **type**               | `object`                                                                    |
| **description**       | Evaluación del comerciante sobre el nivel de riesgo de fraude en la autenticación específica. |

### Propiedades del Objeto

#### `deliveryEmailAddress`

- **Tipo:** `string`
- **Descripción:** Para entrega electrónica, la dirección de correo electrónico a la que se entregó la mercancía.
- **Longitud:** 1 a 254 caracteres

**Ejemplo de valor:** `'example@example.com'`

#### `deliveryTimeframe`

- **Tipo:** `string`
- **Descripción:** Indica el plazo de entrega de la mercancía.

**Valores aceptados:**
- `01` - Entrega electrónica
- `02` - Entrega el mismo día
- `03` - Envío nocturno
- `04` - Entrega en dos días o más

- **Longitud:** 2 caracteres

**Ejemplo de valor:** `'02'`

#### `giftCardAmount`

- **Tipo:** `string`
- **Descripción:** Para compras con tarjeta de regalo o prepago, el monto total de la compra de tarjetas de regalo o prepago en unidades principales (por ejemplo, 123,45 USD es 123).

**Ejemplos de valores aceptados:** `123`, `0123`, `00123`

- **Longitud:** 1 a 15 caracteres

**Ejemplo de valor:** `'123'`

#### `giftCardCount`

- **Tipo:** `string`
- **Descripción:** Para compras con tarjeta de regalo o prepago, recuento total de tarjetas, códigos de regalo o prepago individuales comprados.

**Valores aceptados:** `01`, `02`, ..., `99`

- **Longitud:** 2 caracteres

**Ejemplo de valor:** `'05'`

#### `giftCardCurr`

- **Tipo:** `string`
- **Descripción:** Para compras con tarjeta de regalo o prepago, código de moneda de tres dígitos ISO 4217 de la tarjeta de regalo.

**Valores aceptados:** Ver formato [ISO 4217](https://es.wikipedia.org/wiki/ISO_4217)

- **Longitud:** 3 caracteres

**Ejemplo de valor:** `'USD'`

#### `preOrderDate`

- **Tipo:** `string`
- **Descripción:** Para una compra pre-ordenada, la fecha esperada en que la mercancía estará disponible.

**Formato:** `YYYYMMDD`

**Ejemplo de valor:** `'20250601'`

- **Longitud:** 8 caracteres

#### `preOrderPurchaseInd`

- **Tipo:** `string`
- **Descripción:** Indica si el Titular de la tarjeta está realizando un pedido de mercancía con una disponibilidad futura o una fecha de lanzamiento.

**Valores aceptados:**
- `01` - Mercancía disponible
- `02` - Disponibilidad futura

- **Longitud:** 2 caracteres

**Ejemplo de valor:** `'02'`

#### `reorderItemsInd`

- **Tipo:** `string`
- **Descripción:** Indica si el titular de la tarjeta está reordenando mercancía comprada anteriormente.

**Valores aceptados:**
- `01` – Primera vez
- `02` – Reordenado

- **Longitud:** 2 caracteres

**Ejemplo de valor:** `'01'`

#### `shipIndicator`

- **Tipo:** `string`
- **Descripción:** Indica el método de envío elegido para la transacción.

**Valores aceptados:**
- `01` - Enviar a la dirección de facturación del titular de la tarjeta
- `02` - Enviar a otra dirección verificada registrada con el comerciante
- `03` - Envío a una dirección diferente a la dirección de facturación del titular de la tarjeta
- `04` - "Enviar a la tienda" / Recoger en la tienda local (la dirección de la tienda se completará en los campos de dirección de envío)
- `05` - Productos digitales (incluye servicios en línea, tarjetas de regalo electrónicas y códigos de canje)
- `06` - Boletos de viaje y eventos, no enviados
- `07` - Otro (por ejemplo, juegos, servicios digitales no enviados, suscripciones a medios, etc.)

- **Longitud:** 2 caracteres

**Ejemplo de valor:** `'01'`

### Ejemplo de Petición

```json
{
    "acctNumber": "4005580000000040",
    "cardExpiryDate": "2506",
    "purchaseAmount": "20.5",
    "purchaseCurrency": "USD",
    "redirectURI": "https://www.placetopay.com",
    "threeDSAuthenticationInd": "01",
    "reference": "12345",
    "merchantRiskIndicator": {
        "shipIndicator": "01",
        "deliveryTimeframe": "02",
        "deliveryEmailAddress": "example@example.com",
        "reorderItemsInd": "01",
        "preOrderPurchaseInd": "02",
        "preOrderDate": "20300101",
        "giftCardAmount": "1",
        "giftCardCurr": "840",
        "giftCardCount": "01"
    }
}

```

---

## ThreeDSRequestorAuthenticationInfoProperties

### Descripción

`threeDSRequestorAuthenticationInfoProperties` es un objeto que contiene información sobre cómo el 3DS Requestor autenticó al titular de la tarjeta antes o durante la transacción.

### Descripción del Objeto

| Campo                           | Descripción                                                                 |
|---------------------------------|-----------------------------------------------------------------------------|
| **title**                       | `threeDSAuthenticationInfo`                                                |
| **type**                        | `object`                                                                    |
| **description**                | Información sobre cómo el 3DS Requestor autenticó al titular de la tarjeta antes o durante la transacción. |

### Propiedades del Objeto

#### `threeDSReqAuthData`

- **Tipo:** `string`
- **Descripción:** Datos de autenticación del solicitante de 3DS.

**Ejemplo de valor:** `'28401b9d217ef8731f0dbee99c73c5902c183c5b1428d572ef63a4fe26586548'`

- **Longitud:** Máximo de 20,000 caracteres.

#### `threeDSReqAuthMethod`

- **Tipo:** `string`
- **Descripción:** Mecanismo utilizado por el Titular de la tarjeta para autenticarse ante el 3DS Requestor.

**Valores aceptados:**
* `01` - Autenticación a través de un Challenge
* `02` - Autenticación a través de un PIN
* `03` - Autenticación a través de un Token
* `04` - Autenticación a través de una Contraseña
* `05` - Autenticación a través de un Código de Un Solo Uso (OTP)
* `06` - Autenticación a través de un Biometría
* `07` - Autenticación a través de una Aplicación Móvil
* `08` - Autenticación a través de otro Mecanismo

- **Longitud:** 2 caracteres

#### `threeDSReqAuthTimestamp`

- **Tipo:** `string`
- **Descripción:** Fecha y hora en UTC de la autenticación del titular de la tarjeta.

**Formato:** `YYYYMMDDHHMM`

**Ejemplo de valor:** `'202103051200'`

- **Longitud:** 12 caracteres

### Ejemplo de Petición

```json
{
    "acctNumber": "4005580000000040",
    "cardExpiryDate": "2506",
    "purchaseAmount": "20.5",
    "purchaseCurrency": "USD",
    "redirectURI": "https://www.placetopay.com",
    "threeDSAuthenticationInd": "01",
    "reference": "12345",
    "threeDSRequestorAuthenticationInfo": {
        "threeDSReqAuthData": "28401b9d217ef8731f0dbee99c73c5902c183c5b1428d572ef63a4fe26586548",
        "threeDSReqAuthMethod": "01",
        "threeDSReqAuthTimestamp": "202103051200"
    }
}

```
---

## BridgingMessageExtension

Para obtener más detalles sobre cómo utilizar esta extensión y mejorar la tasa de autenticación aprovechando las ventajas de la versión 2.3.1,
consulte [Sesión transacción con Bridging Message Extension](/three-d-s-server/api/integration/session#sesion-transaccion-con-bridging-message-extension)


