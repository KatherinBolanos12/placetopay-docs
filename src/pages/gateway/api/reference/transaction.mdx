export const sectionMode = 'nav';
export const apiRefs = ['/gateway/process', '/gateway/query', '/gateway/search', '/gateway/transaction']

## Procesamiento de transacción {{ id: 'process-request', tag: 'POST', label: '/gateway/process' }}

<Row>
    <Col>
        Este servicio permite que se realice el cobro a la tarjeta del usuario, los parámetros del instrument son variables, si no se pide tipo de crédito ni otp no es necesario enviar esas variables, payer es siempre requerido, buyer es opcional pero recomendado.
        <ApiReader
            path="/gateway/process"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/gateway/process">
        ```bash {{ title: 'cURL' }}
        curl -X "POST" https://api-co-dev.placetopay.ws/gateway/information \
        -H "Content-Type: application/json" \
        -d '{
            "locale": "es_CO",
            "auth": {
                "login":"c51ce410c124a10e0db5e4b97fc2af39",
                "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                "nonce":"NjE0OWVkODgwYjNhNw==",
                "seed":"2021-09-21T09:34:48-05:00"
            },
            "payment": {
                "reference": "1122334455",
                "description": "Prueba",
                "amount": {
                    "currency": "USD",
                    "total": 100
                }
            },
            "instrument": {
                "card": {
                    "number": "4110760000000008",
                    "expiration": "12/20",
                    "cvv": "123",
                    "installments": "2"
                },
            },
            "ipAddress": "127.0.0.1",
            "userAgent": "Testing"
        }'
        ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/gateway/process"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
        ```json {{ title: 'APPROVED' }}
            {
                "status": {
                    "status": "APPROVED",
                    "reason": "00",
                    "message": "Aprobada",
                    "date": "2021-09-24T11:51:31-05:00"
                },
                "date": "2021-09-24T11:51:31-05:00",
                "transactionDate": "2021-09-24T11:51:31-05:00",
                "internalReference": 41,
                "reference": "ON1434012-PN1433129",
                "paymentMethod": "CR_VS",
                "franchise": "visa",
                "franchiseName": "Visa",
                "issuerName": "BANCO DE GUAYAQUIL, S.A.",
                "amount": {
                    "taxes": [
                    {
                        "kind": "airportTax",
                        "amount": 63,
                        "base": 0
                    },
                    {
                        "kind": "valueAddedTax",
                        "amount": 158.47,
                        "base": 0
                    }
                    ],
                    "currency": "USD",
                    "total": 1161.12
                },
                "conversion": {
                    "from": {
                    "currency": "USD",
                    "total": 1161.12
                    },
                    "to": {
                    "currency": "USD",
                    "total": 1161
                    },
                    "factor": 1
                },
                "authorization": "739877",
                "receipt": "713329175945",
                "type": "DISPERSION",
                "refunded": false,
                "lastDigits": "0032",
                "provider": "CREDIBANCO",
                "discount": null,
                "processorFields": {
                    "id": "08c0284b20510c8db8dcb29137374718",
                    "b24": "XX"
                },
                "additional": {
                    "merchantCode": "123456",
                    "terminalNumber": "12345678",
                    "bin": "411076",
                    "expiration": "1220"
                },
                "dispersion": [
                    {
                    "status": {
                        "status": "APPROVED",
                        "reason": "00",
                        "message": "Transacción aprobada",
                        "date": "2021-09-24T11:51:31-05:00"
                    },
                    "agreement": 1,
                    "type": "AIRLINE",
                    "authorization": "739877",
                    "receipt": "713329175945",
                    "amount": {
                        "currency": "CLP",
                        "total": 638155.3
                    },
                    "refunded": false,
                    "paymentMethod": "PS_VS"
                    },
                    {
                    "status": {
                        "status": "APPROVED",
                        "reason": "00",
                        "message": "Transacción aprobada",
                        "date": "2021-09-24T11:51:31-05:00"
                    },
                    "agreement": null,
                    "type": "MERCHANT",
                    "authorization": "000000",
                    "receipt": null,
                    "amount": {
                        "currency": "COP",
                        "total": 297580
                    },
                    "refunded": false,
                    "paymentMethod": "CR_VS"
                    }
                ]
            }
        ```

        ```json {{ title: 'PENDING' }}
        {
            "status": {
                "status": "PENDING",
                "reason": "?-",
                "message": "Transacción pendiente",
                "date": "2021-09-24T11:51:31-05:00"
            },
            "date": "2021-09-24T11:51:31-05:00",
            "transactionDate": "2021-09-24T11:51:31-05:00",
            "internalReference": 41,
            "reference": "ON1434012-PN1433129",
            "paymentMethod": "CR_VS",
            "franchise": "visa",
            "franchiseName": "Visa",
            "issuerName": "BANCO DE GUAYAQUIL, S.A.",
            "amount": {
                "taxes": [
                {
                    "kind": "airportTax",
                    "amount": 63,
                    "base": 0
                },
                {
                    "kind": "valueAddedTax",
                    "amount": 158.47,
                    "base": 0
                }
                ],
                "currency": "USD",
                "total": 1161.12
            },
            "conversion": {
                "from": {
                "currency": "USD",
                "total": 1161.12
                },
                "to": {
                "currency": "USD",
                "total": 1161
                },
                "factor": 1
            },
            "authorization": "000000",
            "receipt": "713329175945",
            "type": "DISPERSION",
            "refunded": false,
            "lastDigits": "0032",
            "provider": "CREDIBANCO",
            "discount": null,
            "processorFields": {
                "id": "08c0284b20510c8db8dcb29137374718",
                "b24": "XX"
            },
            "additional": {
                "merchantCode": "123456",
                "terminalNumber": "12345678",
                "bin": "411076",
                "expiration": "1220"
            },
            "dispersion": [
                {
                "status": {
                    "status": "PENDING",
                    "reason": "?-",
                    "message": "Transacción pendiente",
                    "date": "2021-09-24T11:51:31-05:00"
                },
                "agreement": 1,
                "type": "AIRLINE",
                "authorization": "000000",
                "receipt": "713329175945",
                "amount": {
                    "currency": "CLP",
                    "total": 638155.3
                },
                "refunded": false,
                "paymentMethod": "PS_VS"
                },
                {
                "status": {
                    "status": "PENDING_PROCESS",
                    "reason": "?-",
                    "message": "Transaccion aprobada",
                    "date": "2021-09-24T11:51:31-05:00"
                },
                "agreement": null,
                "type": "MERCHANT",
                "authorization": "000000",
                "receipt": null,
                "amount": {
                    "currency": "COP",
                    "total": 297580
                },
                "refunded": false,
                "paymentMethod": "CR_VS"
                }
            ]
        }
        ```

        ```json {{ title: 'APPROVED_PARTIAL'}}
        {
            "status": {
                "status": "APPROVED_PARTIAL",
                "reason": "XX",
                "message": "Comercio no configurado propiamente para la franquicia seleccionada",
                "date": "2021-09-24T11:51:31-05:00"
            },
            "date": "2021-09-24T11:51:31-05:00",
            "transactionDate": "2021-09-24T11:51:31-05:00",
            "internalReference": 41,
            "reference": "ON1434012-PN1433129",
            "paymentMethod": "CR_VS",
            "franchise": "visa",
            "franchiseName": "Visa",
            "issuerName": "BANCO DE GUAYAQUIL, S.A.",
            "amount": {
                "taxes": [
                {
                    "kind": "airportTax",
                    "amount": 63,
                    "base": 0
                },
                {
                    "kind": "valueAddedTax",
                    "amount": 158.47,
                    "base": 0
                }
                ],
                "currency": "USD",
                "total": 1161.12
            },
            "conversion": {
                "from": {
                "currency": "USD",
                "total": 1161.12
                },
                "to": {
                "currency": "USD",
                "total": 1161
                },
                "factor": 1
            },
            "authorization": "739877",
            "receipt": "713329175945",
            "type": "DISPERSION",
            "refunded": false,
            "lastDigits": "0032",
            "provider": "CREDIBANCO",
            "discount": null,
            "processorFields": {
                "id": "08c0284b20510c8db8dcb29137374718",
                "b24": "XX"
            },
            "additional": {
                "merchantCode": "123456",
                "terminalNumber": "12345678",
                "bin": "411076",
                "expiration": "1220"
            },
            "dispersion": [
                {
                "status": {
                    "status": "APPROVED",
                    "reason": "00",
                    "message": "Transacción aprobada",
                    "date": "2021-09-24T11:51:31-05:00"
                },
                "agreement": 1,
                "type": "AIRLINE",
                "authorization": "739877",
                "receipt": "713329175945",
                "amount": {
                    "currency": "CLP",
                    "total": 638155.3
                },
                "refunded": false,
                "paymentMethod": "PS_VS"
                },
                {
                "status": {
                    "status": "FAILED",
                    "reason": "XX",
                    "message": "Transacción aprobada",
                    "date": "2021-09-24T11:51:31-05:00"
                },
                "agreement": null,
                "type": "MERCHANT",
                "authorization": "000000",
                "receipt": null,
                "amount": {
                    "currency": "COP",
                    "total": 297580
                },
                "refunded": false,
                "paymentMethod": "CR_VS"
                }
            ]
        }
        ```

        ```json {{ title: 'Botón Bancolombia' }}
        {
            "status": {
                "status": "PENDING",
                "reason": "?-",
                "message": "Transacción pendiente. Por favor consulte con su entidad financiera si el débito fue realizado",
                "date": "2021-10-14T14:44:09-05:00"
            },
            "date": "2021-10-14T14:44:07-05:00",
            "transactionDate": "2021-10-14T14:44:07-05:00",
            "internalReference": 1521428660,
            "reference": "TEST_TRANSACTION",
            "paymentMethod": "BTNBC",
            "franchise": "bancolombia",
            "franchiseName": "Botón Bancolombia",
            "issuerName": null,
            "amount": {
                "currency": "USD",
                "total": 100
            },
            "conversion": {
                "from": {
                "currency": "USD",
                "total": 100
                },
                "to": {
                "currency": "COP",
                "total": 372575
                },
                "factor": 3725.75
            },
            "authorization": "000000",
            "receipt": "1634240649",
            "type": "AUTH_ONLY",
            "refunded": false,
            "lastDigits": null,
            "provider": "BANCOLOMBIA",
            "discount": null,
            "processorFields": {
                "id": "22c96234f5f04e53d1c1a4e5f5a59592",
                "b24": "?-"
            },
            "additional": {},
            "redirection": {
                "paymentMethod": "BTNBC",
                "processURL": "https://sandbox-boton-dev.apps.ambientesbc.com/web/transfer-gateway/checkout/_lDjXRIRMK1",
                "returnURL": "https://your-site.com/your-return-path"
            }
        }
        ```
        </CodeGroup>
    </Col>
</Row>

---

## Consulta de transacción por referencia interna {{ id: 'query-request', tag: 'POST', label: '/gateway/query' }}

<Row>
    <Col>
        Permite consultar una transacción en particular usando su referencia interna.

        <ApiReader
            path="/gateway/query"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/gateway/query">
        ```bash {{ title: 'cURL' }}
        curl -X "POST" https://api-co-dev.placetopay.ws/gateway/query \
        -H "Content-Type: application/json" \
        -d '{
            "locale": "es_CO",
            "auth": {
                "login":"c51ce410c124a10e0db5e4b97fc2af39",
                "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                "nonce":"NjE0OWVkODgwYjNhNw==",
                "seed":"2021-09-21T09:34:48-05:00"
            },
            "internalReference": "230364"
        }'
        ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/gateway/query"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
        ```json {{title: '200'}}
        {
            "status": {
                "status": "APPROVED",
                "reason": "00",
                "message": "Aprobada",
                "date": "2021-09-24T14:04:23-05:00"
            },
            "date": "2021-09-24T10:02:17-05:00",
            "transactionDate": "2021-09-24T10:02:18-05:00",
            "internalReference": 230364,
            "reference": "800166551",
            "paymentMethod": "ID_DN",
            "franchise": "diners",
            "franchiseName": "Diners",
            "issuerName": "Diners",
            "amount": {
                "taxes": [
                {
                    "kind": "valueAddedTax",
                    "amount": 0,
                    "base": 0
                }
                ],
                "currency": "USD",
                "total": 120
            },
            "conversion": {
                "from": {
                "currency": "USD",
                "total": 120
                },
                "to": {
                "currency": "USD",
                "total": 120
                },
                "factor": 1
            },
            "authorization": "999999",
            "receipt": "230364",
            "type": "AUTH_ONLY",
            "refunded": false,
            "lastDigits": "0008",
            "provider": "INTERDIN",
            "discount": null,
            "processorFields": {
                "id": "cf3e77878a07d6e3ee667c60081dc39d",
                "b24": "00"
            },
            "additional": {
                "merchantCode": "1065152",
                "terminalNumber": "00990099",
                "credit": {
                "code": 1,
                "type": "03",
                "groupCode": "X",
                "installments": 3
                },
                "totalAmount": 120,
                "interestAmount": 0,
                "installmentAmount": 40,
                "iceAmount": 0,
                "batch": null,
                "line": null,
                "bin": "365454",
                "expiration": "1122"
            },
            "notificationURL": "https://test.placetopay.ec/redirection/api/notify"
        }
        ```
        </CodeGroup>
    </Col>
</Row>

---

## Búsqueda de transacciones {{ id: 'search-request', tag: 'POST', label: '/gateway/search' }}

<Row>
    <Col>
        Este servicio permite la búsqueda de transacciones por referencia y monto, suele utilizarse en caso de pérdida de comunicación al crear una transacción para obtener la referencia interna nuevamente.

        <ApiReader
            path="/gateway/search"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/gateway/search">
        ```bash {{ title: 'cURL' }}
        curl -X "POST" https://api-co-dev.placetopay.ws/gateway/search \
        -H "Content-Type: application/json" \
        -d '{
            "locale": "es_CO",
            "auth": {
                "login":"c51ce410c124a10e0db5e4b97fc2af39",
                "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                "nonce":"NjE0OWVkODgwYjNhNw==",
                "seed":"2021-09-21T09:34:48-05:00"
            },
            "reference": "TEST_20171108_144400"
            "amount": {
                "currency": "COP",
                "total": "1000"
            }
        }'
        ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/gateway/search"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
        ```json {{ title: '200' }}
        {
            "status": {
                "status": "OK",
                "reason": "00",
                "message": "La petición se ha procesado correctamente",
                "date": "2021-09-20T21:51:59-05:00"
            },
            "transactions": [
                {
                "status": {
                    "status": "PENDING",
                    "reason": "?-",
                    "message": "Transacción pendiente",
                    "date": "2021-09-20T21:51:59-05:00"
                },
                "date": "2021-09-20T21:51:59-05:00",
                "transactionDate": "2021-09-20T21:51:59-05:00",
                "internalReference": 453,
                "reference": "TEST_3",
                "paymentMethod": "ID_VS",
                "franchise": "visa",
                "franchiseName": "Visa",
                "issuerName": "Testing Bank",
                "amount": {
                    "taxes": [
                    {
                        "kind": "valueAddedTax",
                        "amount": 3.27,
                        "base": 0
                    }
                    ],
                    "currency": "USD",
                    "total": 17.2
                },
                "conversion": {
                    "from": {
                    "currency": "USD",
                    "total": 17.2
                    },
                    "to": {
                    "currency": "USD",
                    "total": 17.2
                    },
                    "factor": 1
                },
                "authorization": null,
                "receipt": null,
                "type": "AUTH_ONLY",
                "refunded": false,
                "lastDigits": "0008",
                "provider": "INTERDIN",
                "discount": null,
                "processorFields": {
                    "id": "a9cb4b7a7aa03f681a0545ba6807e1fc",
                    "b24": "?-"
                },
                "additional": {
                    "merchantCode": "000468232",
                    "terminalNumber": "00990101",
                    "credit": null,
                    "totalAmount": 17.2,
                    "interestAmount": 0,
                    "installmentAmount": 0,
                    "iceAmount": 0,
                    "batch": null,
                    "line": null,
                    "bin": "411076",
                    "expiration": "1228"
                }
                },
                {
                "status": {
                    "status": "PENDING",
                    "reason": "?-",
                    "message": "Transacción pendiente",
                    "date": "2021-09-20T21:51:59-05:00"
                },
                "date": "2021-09-20T21:51:59-05:00",
                "transactionDate": "2021-09-20T21:51:59-05:00",
                "internalReference": 452,
                "reference": "TEST_3",
                "paymentMethod": "ID_VS",
                "franchise": "visa",
                "franchiseName": "Visa",
                "issuerName": "Testing Bank",
                "amount": {
                    "taxes": [
                    {
                        "kind": "valueAddedTax",
                        "amount": 3.27,
                        "base": 0
                    }
                    ],
                    "details": [
                    {
                        "kind": "shipping",
                        "amount": 100
                    }
                    ],
                    "currency": "USD",
                    "total": 17.2
                },
                "conversion": {
                    "from": {
                    "currency": "USD",
                    "total": 17.2
                    },
                    "to": {
                    "currency": "USD",
                    "total": 17.2
                    },
                    "factor": 1
                },
                "authorization": null,
                "receipt": null,
                "type": "AUTH_ONLY",
                "refunded": false,
                "lastDigits": "0008",
                "provider": "INTERDIN",
                "discount": null,
                "processorFields": {
                    "id": "cbc65da9667ca078dc774cad2fd510e4",
                    "b24": "?-"
                },
                "additional": {
                    "merchantCode": "000468232",
                    "terminalNumber": "00990101",
                    "credit": null,
                    "totalAmount": 17.2,
                    "interestAmount": 0,
                    "installmentAmount": 0,
                    "iceAmount": 0,
                    "batch": null,
                    "line": null,
                    "bin": "411076",
                    "expiration": "1228"
                }
                }
            ]
        }
        ```
        </CodeGroup>
    </Col>
</Row>

---

## Operaciones sobre una transacción {{ id: 'transaction-request', tag: 'POST', label: '/gateway/transaction' }}

<Row>
    <Col>
        Permite realizar un reembolso, re-autorización o cash out sobre una transacción existente

        <ApiReader
            path="/gateway/transaction"
            method="post"
            api={props.refs}
        />
    </Col>

    <Col sticky>
        <CodeGroup title="Solicitud" tag="POST" label="/gateway/transaction">
        ```bash {{ title: 'cURL' }}
        curl -X "POST" https://api-co-dev.placetopay.ws/gateway/transaction \
        -H "Content-Type: application/json" \
        -d '{
            "locale": "es_CO",
            "auth": {
                "login":"c51ce410c124a10e0db5e4b97fc2af39",
                "tranKey":"VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                "nonce":"NjE0OWVkODgwYjNhNw==",
                "seed":"2021-09-21T09:34:48-05:00"
            },
            "action": "reverse",
            "internalReference": "1505723583",
            "authorization": "999999"
        }'
        ```
        </CodeGroup>
    </Col>
</Row>

<Row>
    <Col>
        <ApiReader
            path="/gateway/transaction"
            method="post"
            type="response"
            api={props.refs}
        />
    </Col>
    <Col sticky>
        <br />
        <CodeGroup title="Respuesta">
        ```json {{ title: '200' }}
        {
            "status": {
                "status": "APPROVED",
                "reason": "00",
                "message": "Aprobada",
                "date": "2021-09-20T21:56:29-05:00"
            },
            "date": "2021-09-20T21:56:29-05:00",
            "transactionDate": "2021-09-20T21:56:29-05:00",
            "internalReference": 455,
            "reference": "1945768",
            "paymentMethod": "CR_VS",
            "franchise": "visa",
            "franchiseName": "Visa",
            "issuerName": "Testing Bank",
            "amount": {
                "taxes": [
                {
                    "kind": "valueAddedTax",
                    "amount": 705.66,
                    "base": 0
                }
                ],
                "currency": "USD",
                "total": 3714
            },
            "conversion": {
                "from": {
                "currency": "USD",
                "total": 3714
                },
                "to": {
                "currency": "USD",
                "total": 3714
                },
                "factor": 1
            },
            "authorization": "000000",
            "receipt": "455",
            "type": "CREDIT",
            "refunded": false,
            "lastDigits": "0008",
            "provider": "CREDIBANCO",
            "discount": null,
            "processorFields": {
                "id": "f4ec45ea4c83039384b189df2c1a6891",
                "b24": "000"
            },
            "additional": {
                "merchantCode": null,
                "terminalNumber": null,
                "bin": "411076",
                "expiration": "1228",
                "installments": 1
            }
        }
        ```
        </CodeGroup>
    </Col>
</Row>